# The Mole World -- AI Film Production Dashboard

> A full-stack production dashboard for an AI-generated animated short film, built by a solo engineer using WanVideo 2.1, ComfyUI, and Next.js.

---

## What Is This?

**The Mole World** is a dystopian animated short film created entirely with AI. Every frame is generated by a 14-billion parameter video model (WanVideo 2.1) running on a local RTX 4090. This dashboard is the real-time production control center used to orchestrate the entire pipeline.

```
Screenplay --> Storyboard --> AI Video Generation --> Voice Narration --> Compositing --> Final Edit
                                    |
                              [This Dashboard]
                        Real-time monitoring & control
```

### The Film

- **Genre:** Philosophical Sci-Fi / Dystopian Drama
- **Logline:** In a subterranean future where every human is implanted and owned, Anaya's implant glitches -- and she begins to see.
- **Chapter 1:** 25 sequential shots, 14 scenes, 6 characters, 2-5 minute runtime
- **Status:** V1 complete (25/25), V2 enhanced in progress (9/25), 89 narrations generated

---

## Architecture

```
+----------------------------------------------------+
|                   Next.js Frontend                  |
|  TypeScript + Tailwind CSS + Zustand + Recharts     |
+----------------------------------------------------+
          |                           |
    [Demo Mode]                [Live Mode]
    Static JSON                 Flask API
    (Vercel)                  (localhost:5555)
          |                           |
+----------------------------------------------------+
|              Film Pipeline Backend                  |
|  Python + ComfyUI + WanVideo 2.1 + TTS Engine      |
+----------------------------------------------------+
          |
    [RTX 4090 - 16GB VRAM]
    ~34 min per clip at full utilization
```

### Dual-Mode Data Layer

The dashboard supports two operational modes:

- **Demo Mode** (no API URL): Loads pre-captured JSON snapshots for portfolio deployment on Vercel
- **Live Mode** (`NEXT_PUBLIC_API_URL`): Connects to the Flask backend for real-time pipeline monitoring

---

## Pages

| Page | Route | Description |
|------|-------|-------------|
| **Dashboard** | `/` | Production overview with status cards, pipeline progress, render performance chart, file size analytics |
| **Clips** | `/clips` | Grid/list view of all 89 shots with filter by status, V1/V2 badges, file metadata |
| **Storyboard** | `/storyboard` | Full screenplay with film info, character profiles, scene accordions with shot details |
| **Voice Lab** | `/voices` | Voice profiles, narrator assignment, audio generation status per shot |
| **Logs** | `/logs` | Pipeline log files, activity status, recent event feed with color-coded entries |
| **Compose** | `/compose` | Video composition and stitching interface |
| **Settings** | `/settings` | Pipeline configuration |
| **Pitch Deck** | `/pitch` | Development journey presentation -- from idea to production |

---

## Tech Stack

| Layer | Technology |
|-------|-----------|
| **Framework** | Next.js 16.1 (App Router) |
| **Language** | TypeScript (strict mode) |
| **Styling** | Tailwind CSS v4 + custom glass-morphism theme |
| **State** | Zustand |
| **Charts** | Recharts |
| **Icons** | Lucide React |
| **Animations** | Framer Motion |
| **Backend** | Flask (Python) |
| **AI Video** | WanVideo 2.1 14B via ComfyUI |
| **AI Voice** | Custom TTS pipeline |
| **GPU** | NVIDIA RTX 4090 (16GB VRAM) |

---

## Getting Started

### Prerequisites

- Node.js 18+
- npm or yarn

### Install & Run (Demo Mode)

```bash
git clone https://github.com/aptsalt/mole-world-dashboard.git
cd mole-world-dashboard
npm install
npm run dev
```

Open [http://localhost:3003](http://localhost:3003). Demo mode loads pre-captured production data automatically.

### Run with Live Pipeline

```bash
# 1. Start the film pipeline backend
cd film-pipeline
python dashboard.py  # Starts Flask on :5555

# 2. Start the dashboard with API connection
cd mole-world-dashboard
NEXT_PUBLIC_API_URL=http://localhost:5555 npm run dev
```

---

## Production Pipeline

### Dual Model Strategy

| Model | Purpose | Clips | Avg Render | Avg Size |
|-------|---------|-------|------------|----------|
| **V1 Standard** | Rapid prototyping | 25/25 | 36.8 min | 314 KB |
| **V2 Enhanced** | Production quality | 9/25 | 34.4 min | 859 KB |

### Pipeline Phases

```
1. V1 Generation    ████████████████████ 100%  (25/25 clips)
2. V2 Enhanced      ███████░░░░░░░░░░░░░  36%  (9/25 clips)
3. Narration        ████████████████████ 100%  (89/89 audio)
4. Compositing      ████████████████████ 100%  (25/25 merged)
```

### Key Metrics

- **Total GPU Time:** 19.8 hours
- **Total Renders:** 33 clips
- **Disk Usage:** 91.8 MB (video + audio)
- **Voice Profiles:** 6 unique actors
- **Model:** WanVideo 2.1 (14B parameters)

---

## Development Journey

This project demonstrates end-to-end engineering across ML, systems, and frontend:

1. **Vision** -- Original screenplay for a dystopian AI animated film
2. **Prompt Engineering** -- 89 unique prompts with style prefix system for visual consistency
3. **GPU/ML Pipeline** -- WanVideo 2.1 running on RTX 4090 via ComfyUI with fault tolerance
4. **Dual Model Architecture** -- V1 for speed, V2 for quality, with diff comparison tools
5. **Voice Generation** -- TTS pipeline with 6 character voice profiles and emotional mapping
6. **Production Dashboard** -- 43+ feature iterations, migrated from 15K-line HTML to Next.js + TypeScript
7. **Portfolio Deployment** -- Dual-mode architecture for demo (Vercel) + live operation

See the full development story at [`/pitch`](http://localhost:3003/pitch).

---

## Project Structure

```
mole-world-dashboard/
├── data/                    # Demo mode static snapshots
│   ├── demo-status.json     # Pipeline status
│   ├── demo-stats.json      # Render statistics
│   ├── demo-clips.json      # All 89 clips metadata
│   ├── demo-storyboard.json # Full storyboard (14 scenes, 89 shots)
│   ├── demo-logs.json       # Log file entries
│   └── demo-voices.json     # Voice assignments & profiles
├── src/
│   ├── app/                 # Next.js App Router pages
│   │   ├── page.tsx         # Dashboard (main overview)
│   │   ├── clips/           # Clip gallery (grid + list view)
│   │   ├── storyboard/      # Screenplay & scene viewer
│   │   ├── voices/          # Voice lab & assignments
│   │   ├── logs/            # Pipeline log viewer
│   │   ├── compose/         # Video composition
│   │   ├── settings/        # Configuration
│   │   ├── pitch/           # Development journey deck
│   │   ├── layout.tsx       # Root layout (fonts, shell)
│   │   └── globals.css      # Theme + glass-morphism CSS
│   ├── components/
│   │   └── layout/          # AppShell, Sidebar, Topbar
│   └── lib/
│       ├── types.ts         # Full TypeScript interface system
│       ├── api.ts           # Dual-mode data fetching layer
│       ├── store.ts         # Zustand global state
│       └── utils.ts         # Formatting & color utilities
├── package.json
├── next.config.ts
├── tsconfig.json
└── README.md
```

---

## Design System

- **Background:** `#0f0f1a` (deep navy)
- **Accent:** `#00d4ff` (electric cyan)
- **Glass Cards:** `rgba(255,255,255,0.04)` with `backdrop-filter: blur(16px)`
- **Typography:** Inter (UI) + JetBrains Mono (data/code)
- **Responsive:** Mobile-first with collapsible sidebar
- **Animations:** SVG progress rings, pulse indicators, smooth transitions

---

## Built By

**Deep Chand** -- Solo founder & engineer.

This entire AI film production pipeline -- video generation, voice synthesis, compositing, and this monitoring dashboard -- was designed, built, and operated by one person with zero external budget.

- Hardware: NVIDIA RTX 4090, 16GB VRAM
- AI Model: WanVideo 2.1 (14B parameters)
- Stack: Python + TypeScript + Next.js + Flask + ComfyUI

---

## License

MIT
