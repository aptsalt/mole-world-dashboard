# The Mole World -- AI Film Production Dashboard

> Real-time production control center for an AI-generated animated short film. Built solo with WanVideo 2.1, ComfyUI, and Next.js.

**[Live Demo](https://aptsalt.github.io/mole-world-dashboard/)** | **[GitHub](https://github.com/aptsalt/mole-world-dashboard)**

---

## What Is This?

**The Mole World** is a dystopian animated short film created entirely with AI. Every frame is generated by a 14-billion parameter video model (WanVideo 2.1) running on a local RTX 4090. This dashboard is the production control center used to orchestrate the entire pipeline.

```
Screenplay --> Storyboard --> AI Video Generation --> Voice Narration --> Compositing --> Final Edit
                                    |
                              [This Dashboard]
                        Real-time monitoring & control
```

### The Film

- **Genre:** Philosophical Sci-Fi / Dystopian Drama
- **Logline:** In a subterranean future where every human is implanted and owned, Anaya's implant glitches -- and she begins to see.
- **Chapter 1:** 25 sequential shots, 14 scenes, 6 characters, 2-5 minute runtime
- **Status:** V1 complete (25/25), V2 enhanced in progress (9/25), 89 narrations generated

---

## Features

### Dashboard & Monitoring
- Production overview with animated status cards, pipeline phase progress, render performance charts
- Pipeline health gauge, GPU stats widget, scene breakdown donut chart
- Currently rendering indicator with heartbeat animation
- Render queue, render history chart, render time heatmap
- Activity feed with color-coded live events
- Production milestones timeline
- AI-powered pipeline insights

### Clip Management
- Grid / mosaic / list views for all 89 shots
- Filter by scene, source (V1/V2), status (video/audio/composited/missing)
- Video thumbnails with real playback in clip cards
- Shot detail drawer with storyboard data
- Cinema modal with full-screen video playback
- V1 vs V2 comparison slider with synchronized dual-video playback
- Clip sequence navigator (film strip)
- Bulk actions toolbar
- Mini player with playlist navigation, progress bar, seek, mute

### Production Tools
- Full storyboard viewer with scene accordions, character profiles, shot breakdowns
- Voice Lab with narrator profiles, audio generation status, waveform previews
- Compose page with timeline editor, presets, title card preview
- Pipeline log viewer with color-coded entries and file browser
- Settings page with pipeline configuration

### UI/UX Polish
- Glass-morphism dark theme (`#0f0f1a` bg, `#00d4ff` cyan accent, `blur(16px)` glass cards)
- Command palette (`Ctrl+K`) with fuzzy search
- Keyboard shortcuts overlay (`?`)
- Floating action button menu
- Toast notification system
- Quick notes panel
- Confetti celebrations
- Screensaver mode (idle timeout)
- Notifications panel with mark-as-read
- Skeleton loading states
- Smooth animations: shimmer progress bars, pulse indicators, scale transitions

---

## Architecture

```
+----------------------------------------------------+
|                   Next.js Frontend                  |
|  TypeScript + Tailwind CSS + Zustand + Recharts     |
+----------------------------------------------------+
          |                           |
    [Demo Mode]                [Live Mode]
    Static JSON              Flask API + Video
    (GitHub Pages)           Streaming (localhost)
          |                           |
+----------------------------------------------------+
|              Film Pipeline Backend                  |
|  Python + ComfyUI + WanVideo 2.1 + TTS Engine      |
+----------------------------------------------------+
          |
    [RTX 4090 - 16GB VRAM]
    ~34 min per clip at full utilization
```

### Dual-Mode Data Layer

- **Demo Mode** (default): Loads pre-captured JSON snapshots. Deployed to GitHub Pages.
- **Live Mode** (`NEXT_PUBLIC_API_URL`): Connects to Flask backend for real-time pipeline monitoring. Video streaming via Next.js API routes with HTTP range request support.

---

## Pages

| Page | Route | Description |
|------|-------|-------------|
| **Dashboard** | `/` | Production overview with status cards, pipeline progress, render charts, GPU stats, activity feed, heatmap, milestones |
| **Clips** | `/clips` | Grid/mosaic/list view of 89 shots with filters, video playback, comparison slider, cinema modal, mini player |
| **Storyboard** | `/storyboard` | Full screenplay with film info, character profiles, scene accordions with shot details |
| **Voice Lab** | `/voices` | Voice profiles, narrator assignment, audio generation status per shot |
| **Logs** | `/logs` | Pipeline log files, activity status, recent event feed with color-coded entries |
| **Compose** | `/compose` | Video composition and stitching interface with timeline, presets, title cards |
| **Settings** | `/settings` | Pipeline configuration, render settings, environment info |
| **Pitch Deck** | `/pitch` | Development journey presentation |

---

## Tech Stack

| Layer | Technology |
|-------|-----------|
| **Framework** | Next.js 16.1 (App Router) |
| **Language** | TypeScript (strict mode) |
| **Styling** | Tailwind CSS v4 + custom glass-morphism theme |
| **State** | Zustand |
| **Charts** | Recharts |
| **Icons** | Lucide React |
| **Animations** | Framer Motion + CSS keyframes |
| **Video** | Native HTML5 with HTTP range streaming |
| **Backend** | Flask (Python) |
| **AI Video** | WanVideo 2.1 14B via ComfyUI |
| **AI Voice** | Custom TTS pipeline |
| **GPU** | NVIDIA RTX 4090 (16GB VRAM) |
| **Hosting** | GitHub Pages (static) |
| **CI/CD** | GitHub Actions |

---

## Getting Started

### Prerequisites

- Node.js 18+
- npm

### Install & Run (Demo Mode)

```bash
git clone https://github.com/aptsalt/mole-world-dashboard.git
cd mole-world-dashboard
npm install
npm run dev
```

Open [http://localhost:3003](http://localhost:3003). Demo mode loads pre-captured production data automatically.

### Run with Live Pipeline

```bash
# 1. Start the film pipeline backend
cd film-pipeline
python dashboard.py  # Starts Flask on :5555

# 2. Start the dashboard with API connection
cd mole-world-dashboard
NEXT_PUBLIC_API_URL=http://localhost:5555 npm run dev
```

Video playback (mini player, cinema modal, V1/V2 comparison) works in live mode via the Next.js API route that streams from the local output directory.

---

## Production Pipeline

### Dual Model Strategy

| Model | Purpose | Clips | Avg Render | Avg Size |
|-------|---------|-------|------------|----------|
| **V1 Standard** | Rapid prototyping | 25/25 | 36.8 min | 314 KB |
| **V2 Enhanced** | Production quality | 9/25 | 34.4 min | 859 KB |

### Pipeline Phases

```
1. V1 Generation    ████████████████████ 100%  (25/25 clips)
2. V2 Enhanced      ███████░░░░░░░░░░░░░  36%  (9/25 clips)
3. Narration        ████████████████████ 100%  (89/89 audio)
4. Compositing      ████████████████████ 100%  (25/25 merged)
```

### Key Metrics

- **Total GPU Time:** 19.8 hours
- **Total Renders:** 33 clips
- **Disk Usage:** 91.8 MB (video + audio)
- **Voice Profiles:** 6 unique actors
- **Model:** WanVideo 2.1 (14B parameters)

---

## Project Structure

```
mole-world-dashboard/
├── .github/workflows/       # GitHub Pages deployment
├── data/                    # Demo mode static snapshots
│   ├── demo-status.json     # Pipeline status
│   ├── demo-stats.json      # Render statistics
│   ├── demo-clips.json      # All 89 clips metadata
│   ├── demo-storyboard.json # Full storyboard (14 scenes, 89 shots)
│   ├── demo-logs.json       # Log file entries
│   └── demo-voices.json     # Voice assignments & profiles
├── src/
│   ├── app/                 # Next.js App Router pages
│   │   ├── page.tsx         # Dashboard (main overview)
│   │   ├── clips/           # Clip gallery with video playback
│   │   ├── storyboard/      # Screenplay & scene viewer
│   │   ├── voices/          # Voice lab & assignments
│   │   ├── logs/            # Pipeline log viewer
│   │   ├── compose/         # Video composition
│   │   ├── settings/        # Configuration
│   │   ├── pitch/           # Development journey deck
│   │   ├── api/media/       # Video streaming API route (local only)
│   │   ├── layout.tsx       # Root layout (fonts, shell)
│   │   └── globals.css      # Theme + 60+ custom animations
│   ├── components/
│   │   ├── layout/          # AppShell, Sidebar, Topbar
│   │   └── ui/              # MiniPlayer, ClipComparison, CommandPalette,
│   │                        # FAB, Toast, Confetti, Screensaver, etc.
│   └── lib/
│       ├── types.ts         # Full TypeScript interface system
│       ├── api.ts           # Dual-mode data fetching layer
│       ├── store.ts         # Zustand global state
│       └── utils.ts         # Formatting & color utilities
├── package.json
├── next.config.ts           # Conditional static export for GitHub Pages
├── tsconfig.json
└── README.md
```

---

## Design System

- **Background:** `#0f0f1a` (deep navy)
- **Accent:** `#00d4ff` (electric cyan)
- **Glass Cards:** `rgba(255,255,255,0.04)` with `backdrop-filter: blur(16px)`
- **Typography:** Inter (UI) + JetBrains Mono (data/code)
- **Responsive:** Mobile-first with collapsible sidebar
- **Animations:** SVG progress rings, shimmer bars, pulse indicators, heartbeat, confetti, smooth transitions

---

## Built By

**Deep Chand** -- Solo founder & engineer.

This entire AI film production pipeline -- video generation, voice synthesis, compositing, and this monitoring dashboard -- was designed, built, and operated by one person with zero external budget.

- Hardware: NVIDIA RTX 4090, 16GB VRAM
- AI Model: WanVideo 2.1 (14B parameters)
- Stack: Python + TypeScript + Next.js + Flask + ComfyUI

---

## License

MIT
